




#ifndef mozilla_psm_PKCS11ModuleParent_h
#define mozilla_psm_PKCS11ModuleParent_h

#if !defined(NIGHTLY_BUILD) || defined(MOZ_NO_SMART_CARDS)
#  error This file should only be used under NIGHTLY_BUILD and when MOZ_NO_SMART_CARDS is not defined.
#endif  

#include "mozilla/ProcInfo.h"

#include "mozilla/ipc/UtilityProcessParent.h"
#include "mozilla/psm/PPKCS11ModuleParent.h"

namespace mozilla::psm {

class PKCS11ModuleParent final : public PPKCS11ModuleParent {
 public:
  NS_INLINE_DECL_THREADSAFE_REFCOUNTING(PKCS11ModuleParent, override);

  explicit PKCS11ModuleParent() = default;

  UtilityActorName GetActorName() { return UtilityActorName::Pkcs11Module; }

  nsresult BindToUtilityProcess(
      const RefPtr<ipc::UtilityProcessParent>& aUtilityParent);

 private:
  ~PKCS11ModuleParent() = default;
};

}  

#endif  
