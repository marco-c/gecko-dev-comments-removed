





#ifndef LAYOUT_STYLE_TYPEDOM_CSSNUMERICVALUE_H_
#define LAYOUT_STYLE_TYPEDOM_CSSNUMERICVALUE_H_

#include "js/TypeDecls.h"
#include "mozilla/dom/CSSMathSumBindingFwd.h"
#include "mozilla/dom/CSSNumericValueBindingFwd.h"
#include "mozilla/dom/CSSStyleValue.h"
#include "mozilla/dom/CSSUnitValueBindingFwd.h"
#include "nsStringFwd.h"

template <class T>
struct already_AddRefed;
template <class T>
class nsCOMPtr;
class nsISupports;

namespace mozilla {

struct CSSPropertyId;
class ErrorResult;
struct StyleNumericValue;
struct StyleNumericValueResult;

namespace dom {

class GlobalObject;
template <typename T>
class Sequence;

class CSSNumericValue : public CSSStyleValue {
 public:
  enum class NumericValueType {
    Uninitialized,  
    UnitValue,
    MathSum,
  };

  explicit CSSNumericValue(nsCOMPtr<nsISupports> aParent);

  CSSNumericValue(nsCOMPtr<nsISupports> aParent,
                  NumericValueType aNumericValueType);

  static RefPtr<CSSNumericValue> Create(nsCOMPtr<nsISupports> aParent,
                                        const StyleNumericValue& aNumericValue);

  JSObject* WrapObject(JSContext* aCx,
                       JS::Handle<JSObject*> aGivenProto) override;

  

  already_AddRefed<CSSNumericValue> Add(
      const Sequence<OwningCSSNumberish>& aValues, ErrorResult& aRv);

  already_AddRefed<CSSNumericValue> Sub(
      const Sequence<OwningCSSNumberish>& aValues, ErrorResult& aRv);

  already_AddRefed<CSSNumericValue> Mul(
      const Sequence<OwningCSSNumberish>& aValues, ErrorResult& aRv);

  already_AddRefed<CSSNumericValue> Div(
      const Sequence<OwningCSSNumberish>& aValues, ErrorResult& aRv);

  already_AddRefed<CSSNumericValue> Min(
      const Sequence<OwningCSSNumberish>& aValues, ErrorResult& aRv);

  already_AddRefed<CSSNumericValue> Max(
      const Sequence<OwningCSSNumberish>& aValues, ErrorResult& aRv);

  bool Equals(const Sequence<OwningCSSNumberish>& aValue);

  already_AddRefed<CSSUnitValue> To(const nsACString& aUnit, ErrorResult& aRv);

  already_AddRefed<CSSMathSum> ToSum(const Sequence<nsCString>& aUnits,
                                     ErrorResult& aRv);

  void Type(CSSNumericType& aRetVal);

  
  static already_AddRefed<CSSNumericValue> Parse(const GlobalObject& aGlobal,
                                                 const nsACString& aCssText,
                                                 ErrorResult& aRv);

  

  NumericValueType GetNumericValueType() const { return mNumericValueType; }

  bool IsCSSUnitValue() const;

  
  const CSSUnitValue& GetAsCSSUnitValue() const;

  
  CSSUnitValue& GetAsCSSUnitValue();

  bool IsCSSMathSum() const;

  
  const CSSMathSum& GetAsCSSMathSum() const;

  
  CSSMathSum& GetAsCSSMathSum();

  void ToCssTextWithProperty(const CSSPropertyId& aPropertyId,
                             nsACString& aDest) const;

  
  
  StyleNumericValueResult ToStyleNumericValue() const;

 protected:
  virtual ~CSSNumericValue() = default;

  const NumericValueType mNumericValueType;
};

}  
}  

#endif  
