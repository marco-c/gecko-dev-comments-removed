




import type {
  AdapterState,
  BluetoothEmulation,
  PreconnectedPeripheral,
} from '../api/BluetoothEmulation.js';

import type {Connection} from './Connection.js';




export class CdpBluetoothEmulation implements BluetoothEmulation {
  #connection: Connection;

  constructor(connection: Connection) {
    this.#connection = connection;
  }

  async emulateAdapter(state: AdapterState, leSupported = true): Promise<void> {
    
    
    
    await this.#connection.send('BluetoothEmulation.disable');
    await this.#connection.send('BluetoothEmulation.enable', {
      state,
      leSupported,
    });
  }

  async disableEmulation(): Promise<void> {
    await this.#connection.send('BluetoothEmulation.disable');
  }

  async simulatePreconnectedPeripheral(
    preconnectedPeripheral: PreconnectedPeripheral,
  ): Promise<void> {
    await this.#connection.send(
      'BluetoothEmulation.simulatePreconnectedPeripheral',
      preconnectedPeripheral,
    );
  }
}
