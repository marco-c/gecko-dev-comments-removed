

















































































#include <stdio.h>
#include <stdarg.h>
#include <string.h>
#include "r_common.h"
#include "r_errors.h"

static struct {
    int    errnum;
    const char  *str;
} errors[] = NR_ERROR_MAPPING;

const char *
nr_strerror(int errnum)
{
    static char unknown_error[256];
    size_t i;
    const char *error = 0;

    for (i = 0; i < sizeof(errors)/sizeof(*errors); ++i) {
        if (errnum == errors[i].errnum) {
            error = errors[i].str;
            break;
        }
    }

    if (! error) {
        snprintf(unknown_error, sizeof(unknown_error), "Unknown error: %d", errnum);
        error = unknown_error;
    }

    return error;
}
