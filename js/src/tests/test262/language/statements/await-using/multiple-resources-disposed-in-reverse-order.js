












































asyncTest(async function() {
  var disposed = [];
  var resource1 = { async [Symbol.asyncDispose]() { disposed.push(this); } };
  var resource2 = { [Symbol.dispose]() { disposed.push(this); } };
  var resource3 = { async [Symbol.asyncDispose]() { disposed.push(this); } };

  {
    await using _1 = resource1, _2 = resource2;
    await using _3 = resource3;
  }

  assert.sameValue(disposed[0], resource3);
  assert.sameValue(disposed[1], resource2);
  assert.sameValue(disposed[2], resource1);
});
