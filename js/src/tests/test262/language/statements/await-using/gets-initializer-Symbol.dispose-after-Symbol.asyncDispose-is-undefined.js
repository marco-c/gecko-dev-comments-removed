









































































asyncTest(async function () {
  var order = [];
  var resource = {
      get [Symbol.asyncDispose]() {
        order.push('Symbol.asyncDispose');
        return undefined;
      },
      get [Symbol.dispose]() {
          order.push('Symbol.dispose');
          return function() { };
      }
  };

  {
    await using _ = resource;
  }

  assert.deepEqual(order, ['Symbol.asyncDispose', 'Symbol.dispose'], 'Expected [Symbol.dispose] to have been read after [Symbol.asyncDispose] returns undefined');
});
