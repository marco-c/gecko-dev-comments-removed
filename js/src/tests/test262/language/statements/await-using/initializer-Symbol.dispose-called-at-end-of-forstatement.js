













































asyncTest(async function () {
  var resource = {
      disposed: false,
      async [Symbol.asyncDispose]() {
          this.disposed = true;
      }
  };

  var i = 0;
  var wasDisposedInForStatement;
  for (await using _ = resource; i < 1; i++) {
    wasDisposedInForStatement = resource.disposed;
  }

  assert.sameValue(wasDisposedInForStatement, false, 'Expected resource to not been disposed while for loop is still iterating');
  assert.sameValue(resource.disposed, true, 'Expected resource to have been disposed');
});
