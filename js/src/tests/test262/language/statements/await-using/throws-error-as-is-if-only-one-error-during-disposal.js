






































asyncTest(async function() {
  class MyError extends Error {}
  await assert.throwsAsync(MyError, async function () {
    await using _1 = { async [Symbol.asyncDispose]() { throw new MyError(); } };
    await using _2 = { [Symbol.dispose]() { } };
  });

  await assert.throwsAsync(MyError, async function () {
    await using _1 = { async [Symbol.asyncDispose]() { } };
    await using _2 = { [Symbol.dispose]() { throw new MyError(); } };
  });

  await assert.throwsAsync(MyError, async function () {
    await using _1 = { async [Symbol.asyncDispose]() { } };
    await using _2 = { [Symbol.dispose]() { } };
    throw new MyError();
  });
});
