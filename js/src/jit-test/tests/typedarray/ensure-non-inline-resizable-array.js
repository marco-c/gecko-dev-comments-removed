
const maxByteLength = 32;

const fillValue = 1;
const expected = (fillValue + ",").repeat(maxByteLength).slice(0, -1);

for (let i = 0; i < 100; ++i) {
  let rab = new ArrayBuffer(0, {maxByteLength});
  let u8 = new Uint8Array(rab);

  
  ensureNonInline(rab);

  
  rab.resize(maxByteLength);

  
  u8.fill(fillValue);

  
  if (i % 10 === 0) {
    gc();
  }

  
  assertEq(u8.toString(), expected);
}
