





#ifndef xpcjsweakreference_h_
#define xpcjsweakreference_h_

#include "xpcIJSWeakReference.h"
#include "nsIWeakReferenceUtils.h"

class xpcJSWeakReference final : public xpcIJSWeakReference {
  ~xpcJSWeakReference() = default;

 public:
  xpcJSWeakReference();
  nsresult Init(JSContext* cx, const JS::Value& object);

  NS_DECL_ISUPPORTS
  NS_DECL_XPCIJSWEAKREFERENCE

 private:
  nsWeakPtr mReferent;
};

#endif  
