





#ifndef mozilla_glean_TimingDistributionStandalone_h
#define mozilla_glean_TimingDistributionStandalone_h

#include "mozilla/glean/bindings/CommonStandalone.h"  
#include "mozilla/TimeStamp.h"                        

namespace mozilla::glean {

namespace impl {
class TimingDistributionStandalone {
 public:
  constexpr explicit TimingDistributionStandalone(uint32_t aId) : mId(aId) {}

  




  TimerId Start() const;

  









  void StopAndAccumulate(const TimerId&& aId) const;

  













  void AccumulateRawDuration(const TimeDuration& aDuration) const;

  





  void Cancel(const TimerId&& aId) const;

  class MOZ_RAII AutoTimer {
   public:
    void Cancel();
    ~AutoTimer();

   private:
    AutoTimer(uint32_t aMetricId, TimerId aTimerId)
        : mMetricId(aMetricId), mTimerId(aTimerId) {}
    AutoTimer(AutoTimer& aOther) = delete;

    const uint32_t mMetricId;
    TimerId mTimerId;

    friend class TimingDistributionStandalone;
  };

  AutoTimer Measure() const;

 protected:
  const uint32_t mId;
};
}  

}  

#endif 
