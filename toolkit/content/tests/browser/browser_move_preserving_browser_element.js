


"use strict";





add_task(async function test_moveBefore_api() {
  await BrowserTestUtils.withNewTab("https://example.com/", async browser => {
    await SpecialPowers.spawn(browser, [], async () => {
      
      
      content.document.body.textContent = "Preserve me pls";
    });

    browser.parentNode.moveBefore(browser, browser.nextSibling);
    let actual = await SpecialPowers.spawn(browser, [], async () => {
      return content.document.body.textContent;
    });
    is(actual, "Preserve me pls", "<browser> content should be preserved");
  });
});
