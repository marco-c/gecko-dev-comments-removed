



use std::rc::Rc;

use crate::messages::Header;

pub enum IPCEvent {
    Connect(Rc<IPCConnector>),
    Message(IPCConnectorKey, Header, Vec<u8>, Vec<AncillaryData>),
    Disconnect(IPCConnectorKey),
}





#[cfg(target_os = "windows")]
pub use windows::{
    AncillaryData, IPCConnector, IPCConnectorKey, RawIPCConnector, CONNECTOR_ANCILLARY_DATA_LEN,
};

#[cfg(target_os = "windows")]
pub(crate) mod windows;





#[cfg(any(target_os = "android", target_os = "linux"))]
pub use unix::{
    AncillaryData, IPCConnector, IPCConnectorKey, RawIPCConnector, CONNECTOR_ANCILLARY_DATA_LEN,
};

#[cfg(any(target_os = "android", target_os = "linux"))]
pub(crate) mod unix;





#[cfg(any(target_os = "ios", target_os = "macos"))]
pub use mach::{
    AncillaryData, IPCConnector, IPCConnectorKey, RawIPCConnector, CONNECTOR_ANCILLARY_DATA_LEN,
};

#[cfg(any(target_os = "ios", target_os = "macos"))]
pub(crate) mod mach;
