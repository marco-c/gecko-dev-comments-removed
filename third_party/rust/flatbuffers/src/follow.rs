















use core::marker::PhantomData;












pub trait Follow<'buf> {
    type Inner;
    
    
    
    
    unsafe fn follow(buf: &'buf [u8], loc: usize) -> Self::Inner;
}



#[derive(Debug, Default)]
pub struct FollowStart<T>(PhantomData<T>);
impl<'a, T: Follow<'a> + 'a> FollowStart<T> {
    #[inline]
    pub fn new() -> Self {
        Self(PhantomData)
    }

    
    
    
    #[inline]
    pub unsafe fn self_follow(&'a self, buf: &'a [u8], loc: usize) -> T::Inner {
        T::follow(buf, loc)
    }
}
impl<'a, T: Follow<'a>> Follow<'a> for FollowStart<T> {
    type Inner = T::Inner;
    #[inline]
    unsafe fn follow(buf: &'a [u8], loc: usize) -> Self::Inner {
        T::follow(buf, loc)
    }
}
