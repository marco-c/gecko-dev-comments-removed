



use super::*;
use serde::Deserialize;

pub fn pass(namespace: &mut Namespace) -> Result<()> {
    let config = match &namespace.config_toml {
        Some(toml) => toml::from_str(toml)?,
        None => Config::default(),
    };
    let mut config = config.bindings.python;
    namespace.visit_mut(|custom: &mut CustomType| {
        custom.config = config.custom_types.shift_remove(&custom.name);
    });
    namespace.config = config;
    Ok(())
}




#[derive(Debug, Clone, Deserialize, Node)]
pub struct Config {
    #[serde(default)]
    bindings: BindingsConfig,
}

#[derive(Debug, Clone, Deserialize, Node)]
pub struct BindingsConfig {
    #[serde(default)]
    python: PythonConfig,
}
