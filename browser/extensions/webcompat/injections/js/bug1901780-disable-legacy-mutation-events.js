



"use strict";





if (!window.__firefoxWebCompatFixBug1901780) {
  Object.defineProperty(window, "__firefoxWebCompatFixBug1901780", {
    configurable: false,
    value: true,
  });

  console.info(
    "DOM Mutation Events have been disabled to prevent performance issues. See https://bugzilla.mozilla.org/show_bug.cgi?id=1901780 for details."
  );

  const whichEvents = [
    "domattrmodified",
    "domcharacterdatamodified",
    "domnodeinserted",
    "domnodeinsertedintodocument",
    "domnoderemoved",
    "domnoderemovedfromdocument",
    "domsubtreemodified",
  ];

  const { prototype } = window.EventTarget;
  const { addEventListener } = prototype;
  Object.defineProperty(prototype, "addEventListener", {
    value(_type, b, c, d) {
      const type = _type?.toLowerCase();
      if (whichEvents.includes(type)) {
        return undefined;
      }
      return addEventListener.call(this, type, b, c, d);
    },
  });
}
