



"use strict";











if (!window.__firefoxWebCompatFixBug1756970) {
  Object.defineProperty(window, "__firefoxWebCompatFixBug1756970", {
    configurable: false,
    value: true,
  });

  console.info(
    "running late window load listeners for compatibility reasons. See https://bugzilla.mozilla.org/show_bug.cgi?id=1939248 for details."
  );

  const { prototype } = window.EventTarget;
  const { addEventListener } = prototype;
  prototype.addEventListener = function (type, b, c, d) {
    if (
      this !== window ||
      document?.readyState !== "complete" ||
      type?.toLowerCase() !== "load"
    ) {
      return addEventListener.call(this, type, b, c, d);
    }
    console.log("window.addEventListener(load) called too late, so calling", b);
    try {
      b?.call();
    } catch (e) {
      console.error(e);
    }
    return undefined;
  };
}
